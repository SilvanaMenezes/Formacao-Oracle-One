<canvas width="600" height="400"></canvas>

<script>
  //ÁREA DE TRABALHO
  var tela = document.querySelector('canvas')
  var pincel = tela.getContext('2d')
  pincel.fillStyle = 'lightgrey'
  pincel.fillRect(0, 0, 600, 400)

  //FUNÇÃO PARA DESENHAR OS RETANGULOS QUE COMPOEM OS GRÁFICOS
  function desenhaRetangulo(x, y, largura, altura, cor) {
    pincel.fillStyle = cor
    pincel.fillRect(x, y, largura, altura)
    pincel.strokeStyle = 'black'
    pincel.strokeRect(x, y, largura, altura)
  }

  //FUNÇÃO USADA PARA DESENHAR O TEXTO INICIAL DE CADA GRÁFICO
  function desenhaTexto(x, y, texto) {
    var tela = document.querySelector('canvas')
    var pincel = tela.getContext('2d')

    pincel.font = '15px Georgia'
    pincel.fillStyle = 'black'
    pincel.fillText(texto, x, y)
  }

  //ESSA FUNÇÃO IRÁ DESENHAR OS GRÁFICOS, AQUI O Y-20 INDICA OS PIXELS DE DIFERENÇA ENTRE O TEXTO E O GRÁFICO
  function desenhaBarra(x, y, serie, cores, texto) {
    desenhaTexto(x, y - 15, texto)

    for (var i = 0; i < serie.length; i++) {
      desenhaRetangulo(x, y, 100, serie[i], cores[i])
      y = y + serie[i]
    }
  }

  //ARRAYS QUE PREENCHEM AS INFORMAÇÕES DE CADA RETÂNGULO DOS GRÁFICOS
  var serie2015 = [50, 25, 20, 5]
  var serie2016 = [65, 20, 13, 2]
  var cores = ['blue', 'green', 'yellow', 'red']

  desenhaBarra(50, 50, serie2015, cores, 'Dados de 2015')
  desenhaBarra(300, 50, serie2016, cores, 'Dados de 2016')
</script>

<!--
   Nessa parte do programa eu estava utilizando a função desenhaRetangulo atravez da função desenha barra, porem se voltarmos em quais parâmetros a função desenhaRetangulo pede fica mais facil de entender.
    "desenhaRetangulo(x, y, largura, altura, cor)"
    Assim é a função, entao na hora de criar a barra eu chamei ela ja utilizando tudo que eu precisava.
    x = o valor no eixo X que eu queria começar o desenho.
    y = o valor no eixo Y que eu queria começar o desenho.
    largura = 50 = foi  o valor que decidi para espessura da minha barra.
    altura = serie[i] = aqui foi utilizado a variavel "i" que foi criada na estrutura de repetição "for" para que ela pegasse o valor do array "serie2015" e "serie2016".
    cor = cores[i] = da mesma forma foi utilizado a variavel "i" para pegar os valores dentro do array "cores"
    Sendo assim como eu queria fazer uma barra que foi constituida de retangulos eu precisava sempre ficar alternando os valores de altura e as cores, por isso utilizei os 2 arrays que eu precisa para alternar as cores e os valores da altura
    y = y + serie[i] = eu ultilizei para que cada vez que eu fosse desenha um retangulo eu atualizasse o valor de y para que nunca fosse criado um retangulo em cima do outro, eu partiria de um ponto inicial e cada vez que a que eu acrescentasse + 1 na variavel "i" ela tambem atualizasse a altura do ultimo retangulo criado na variavel y. -->
